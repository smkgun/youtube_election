<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>대선 선거운동 초반 '유튜브 유통 영상' 분석 보고서: 이재명 vs 김문수</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #1a4e8e;
      --primary-light: #4299e1;
      --secondary: #2d3748;
      --accent: #f0f7ff;
      --border: #e2e8f0;
      --success: #38a169;
      --warning: #dd6b20;
      --gray-100: #f7fafc;
      --gray-200: #edf2f7;
      --gray-300: #e2e8f0;
      --gray-500: #718096;
      --gray-700: #4a5568;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Noto Sans KR', sans-serif;
      line-height: 1.7;
      background-color: #fff;
      color: var(--secondary);
      font-size: 16px;
      font-weight: 400;
      padding: 0;
      margin: 0;
    }
    
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    header {
      text-align: center;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border);
    }
    
    h1, h2, h3, h4, h5, h6 {
      color: var(--primary);
      line-height: 1.3;
      margin-bottom: 20px;
      font-weight: 700;
    }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    
    h1 small {
      font-size: 1.5rem;
      display: block;
      margin-top: 10px;
      color: var(--gray-700);
      font-weight: 500;
    }
    
    h2 {
      font-size: 1.8rem;
      margin-top: 60px;
      padding-bottom: 10px;
      border-bottom: 2px solid var(--gray-300);
      position: relative;
    }
    
    h2::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100px;
      height: 2px;
      background-color: var(--primary);
    }
    
    h3 {
      font-size: 1.4rem;
      margin-top: 30px;
      font-weight: 600;
    }
    
    p {
      margin-bottom: 20px;
      line-height: 1.8;
    }
    
    strong {
      font-weight: 700;
      color: var(--primary);
    }
    
    .section {
      margin-bottom: 30px;
    }
    
    .infobox {
      background-color: var(--accent);
      padding: 20px;
      border-radius: 6px;
      border-left: 6px solid var(--primary-light);
      margin: 30px 0;
      box-shadow: var(--shadow);
    }
    
    .infobox strong {
      display: block;
      margin-bottom: 10px;
      font-size: 1.1rem;
    }
    
    .chart-container {
      background-color: white;
      padding: 20px;
      border-radius: 6px;
      margin: 30px 0;
      box-shadow: var(--shadow);
      position: relative;
    }
    
    .chart-title {
      text-align: center;
      margin-bottom: 15px;
      font-weight: 600;
      color: var(--gray-700);
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 30px 0;
      box-shadow: var(--shadow);
      border-radius: 6px;
      overflow: hidden;
    }
    
    th, td {
      border: 1px solid var(--gray-300);
      padding: 12px 15px;
      text-align: center;
    }
    
    th {
      background-color: var(--primary);
      color: white;
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.9rem;
    }
    
    tr:nth-child(even) {
      background-color: var(--gray-100);
    }
    
    tr:hover {
      background-color: var(--gray-200);
    }
    
    footer {
      margin-top: 80px;
      padding: 30px 0;
      text-align: center;
      color: var(--gray-500);
      border-top: 1px solid var(--gray-300);
      font-size: 0.9rem;
    }
    
    .candidate {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 4px;
      font-weight: 700;
    }
    
    .candidate-1 {
      background-color: rgba(66, 153, 225, 0.2);
      color: #2b6cb0;
    }
    
    .candidate-2 {
      background-color: rgba(237, 100, 166, 0.2);
      color: #b83280;
    }
    
    .legend {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      gap: 20px;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      font-size: 0.9rem;
    }
    
    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 4px;
      margin-right: 8px;
    }
    
    .chart-wrapper {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .summary-cards {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin: 30px 0;
    }
    
    .summary-card {
      flex: 1 1 300px;
      padding: 20px;
      background-color: white;
      border-radius: 6px;
      box-shadow: var(--shadow);
      border-top: 4px solid var(--primary);
    }
    
    .summary-card h3 {
      margin-top: 0;
      font-size: 1.2rem;
    }
    
    .summary-card p {
      margin-bottom: 0;
    }
    
/* 히트맵 스타일 */
    .heatmap-grid {
      display: grid;
      grid-template-columns: 180px repeat(6, 1fr);
      max-width: 980px;
      overflow-x: auto;     /* ✅ 가로 스크롤 추가 */
    }
    
    .heatmap-header {
      font-weight: bold;
      text-align: center;
      padding: 10px 5px;
      background-color: var(--primary);
      color: white;
      border-radius: 4px;
    }
    
    .heatmap-row-label {
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding: 0 10px;
      background-color: var(--gray-200);
      border-radius: 4px;
    }
    
    .heatmap-cell {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: white;
      border-radius: 4px;
      font-size: 0.95rem;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .heatmap-cell:hover {
      transform: scale(1.05);
      z-index: 10;
    }
    
    .heatmap-group-label {
      grid-column: 1 / -1;
      padding: 10px;
      font-weight: bold;
      margin-top: 15px;
      border-bottom: 1px solid var(--gray-300);
      color: var(--primary);
    }
    
    .legend-container {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      gap: 30px;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
    }
    
    .legend-gradient {
      width: 150px;
      height: 20px;
      margin-right: 10px;
      border-radius: 4px;
    }
    
    .leem-gradient {
      background: linear-gradient(to right, #5cb85c, #d9534f);
    }
    
    .kim-gradient {
      background: linear-gradient(to right, #5cb85c, #5bc0de);
    }
    
      @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }
      
      h1 small {
        font-size: 1.2rem;
      }
      
      h2 {
        font-size: 1.5rem;
      }
      
      .container {
        padding: 20px 15px;
      }
      
      .summary-cards {
        flex-direction: column;
      }
      .summary-card {
        width: 100%;
        flex: 1 1 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>대선 초반 ‘유튜브 유통 영상’ 분석 보고서<small>
        <span class="candidate candidate-1">이재명(기호 1번)</span> VS <span class="candidate candidate-2">김문수(기호 2번)</span></small></h1>
    </header>

    <section class="section" id="overview">
      <h2>1. 분석 개요</h2>
      <p>
        본 보고서는 21대 대통령선거 공식운동 다음날인 2025년 5월 13일부터 18일(6일간)까지 유튜브에 업로드된 주요 후보 관련 콘텐츠(1일 최대 100건 수집)를 대상으로,
        두 주요 정치인 <span class="candidate candidate-1">이재명(기호 1번)</span>과 <span class="candidate candidate-2">김문수(기호 2번)</span>에
        대한 여론 반응을 감정 분석 기반으로 정리하였습니다. 분석에는 Google Natural Language API 방식이 사용됐습니다. 
      </p>
      <p>
        공식 선거운동 시작일인 5월 12일 직후, 유튜브 영상 제목을 통해 어떤 메시지들이 유권자에게 유통되고 있는지를 중심으로 파악한 분석입니다.
        본 분석은 댓글이 수집되지 않은 조건에서, 제목만으로 유권자들에게 자극을 주는 프레임이나 이미지가 어떻게 형성되고 있는지를 감안하여 해석되었으며,
        특히 자극적 제목과 감정 강도가 높은 콘텐츠일수록 <strong>투표 행동에 잠재적 영향을 미칠 가능성</strong>을 내포하고 있다고 전제합니다.
      </p>
      
      <div class="summary-cards">
        <div class="summary-card">
          <h3>분석 기간</h3>
          <p>2025년 5월 13일 ~ 5월 18일 (6일간)</p>
        </div>
        <div class="summary-card">
          <h3>분석 대상</h3>
          <p>이재명, 김문수 후보 관련 유튜브 콘텐츠 제목</p>
        </div>
        <div class="summary-card">
          <h3>주요 측정 지표</h3>
          <p>감정 점수, 감정 강도, 키워드 빈도</p>
        </div>  
        <div class="summary-card">
          <h3> 용어 설명 </h3>
          <p><strong>감정점수(sentiment score)</strong>: -1.0~+1.0의 값으로 +1.0으로 갈수록 강한 긍정, -1.0으로 갈수록 강한 부정을 의미</p>
          <p><strong>감정강도(sentiment magnitude)</strong>: 0 이상의 제한없는 값으로 감정이 얼마나 강하게 표현되는지를 측정</p>  
        </div>
      </div>
    </section>

    <section class="section" id="sentiment-trend">
      <h2>2. '감정 점수' 추이 분석</h2>
      <div class="chart-container">
        <div class="chart-title">후보별 감정 점수 추이 (5월 13일~18일)</div>
        <div class="chart-wrapper">
          <canvas id="sentimentChart"></canvas>
        </div>
        <div class="legend">
          <div class="legend-item">
            <div class="legend-color" style="background-color: rgba(66, 153, 225, 0.8);"></div>
            <span>이재명 감정 점수</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: rgba(237, 100, 166, 0.8);"></div>
            <span>김문수 감정 점수</span>
          </div>
        </div>
      </div>
      
      <div class="infobox">
        <strong>주요 발견사항</strong>
        <p>이재명 후보 관련 유통 콘텐츠에서 드러나는 감정점수는 분석 기간 내 꾸준히 상승해 최고 0.15점을 기록한 반면, 
           김문수 후보는 비교적 정체 상태를 유지했습니다. 특히 5월 16~18일 사이에는 양 후보 간 여론 반응 온도차가 뚜렷하게 벌어졌습니다.
           해당 시기는 김상욱 의원, 김용남 전 의원 등 구여권 인사의 민주당 입당 러시와 TV 토론회(경제 분야), 5.18민주화운동 기념일 등이 시계열상 있던 시기였습니다.</p>
      </div>
    </section>

     <div class="container">
    <h2>3. '감정 강도' 히트맵 분석</h2>
    
    <div class="chart-container">
      <div class="chart-title">후보별 감정 점수 및 강도 히트맵</div>
      
      <!-- 새 히트맵 그리드 -->
      <div class="heatmap-grid">
        <!-- 헤더 행 -->
        <div class="heatmap-header">항목 \ 날짜</div>
        <div class="heatmap-header">5/13</div>
        <div class="heatmap-header">5/14</div>
        <div class="heatmap-header">5/15</div>
        <div class="heatmap-header">5/16</div>
        <div class="heatmap-header">5/17</div>
        <div class="heatmap-header">5/18</div>
        
        <!-- 이재명 후보 그룹 -->
        <div class="heatmap-group-label">이재명 후보</div>
        
        <!-- 이재명 감정 점수 행 -->
        <div class="heatmap-row-label">이재명_감정 점수</div>
        <div class="heatmap-cell" style="background-color: rgb(102, 174, 92);" title="이재명_감정 점수 (5/13): 0.059">0.059</div>
        <div class="heatmap-cell" style="background-color: rgb(97, 178, 92);" title="이재명_감정 점수 (5/14): 0.031">0.031</div>
        <div class="heatmap-cell" style="background-color: rgb(113, 164, 92);" title="이재명_감정 점수 (5/15): 0.073">0.073</div>
        <div class="heatmap-cell" style="background-color: rgb(155, 129, 86);" title="이재명_감정 점수 (5/16): 0.131">0.131</div>
        <div class="heatmap-cell" style="background-color: rgb(175, 112, 83);" title="이재명_감정 점수 (5/17): 0.150">0.150</div>
        <div class="heatmap-cell" style="background-color: rgb(167, 119, 84);" title="이재명_감정 점수 (5/18): 0.142">0.142</div>
        
        <!-- 이재명 감정 강도 행 -->
        <div class="heatmap-row-label">이재명_감정 강도</div>
        <div class="heatmap-cell" style="background-color: rgb(155, 129, 86);" title="이재명_감정 강도 (5/13): 0.218">0.218</div>
        <div class="heatmap-cell" style="background-color: rgb(134, 147, 88);" title="이재명_감정 강도 (5/14): 0.178">0.178</div>
        <div class="heatmap-cell" style="background-color: rgb(150, 133, 87);" title="이재명_감정 강도 (5/15): 0.209">0.209</div>
        <div class="heatmap-cell" style="background-color: rgb(139, 142, 88);" title="이재명_감정 강도 (5/16): 0.192">0.192</div>
        <div class="heatmap-cell" style="background-color: rgb(196, 94, 81);" title="이재명_감정 강도 (5/17): 0.296">0.296</div>
        <div class="heatmap-cell" style="background-color: rgb(198, 92, 80);" title="이재명_감정 강도 (5/18): 0.300">0.300</div>
        
        <!-- 김문수 후보 그룹 -->
        <div class="heatmap-group-label">김문수 후보</div>
        
        <!-- 김문수 감정 점수 행 -->
        <div class="heatmap-row-label">김문수_감정 점수</div>
        <div class="heatmap-cell" style="background-color: rgb(92, 184, 125);" title="김문수_감정 점수 (5/13): 0.043">0.043</div>
        <div class="heatmap-cell" style="background-color: rgb(92, 184, 130);" title="김문수_감정 점수 (5/14): 0.053">0.053</div>
        <div class="heatmap-cell" style="background-color: rgb(92, 184, 128);" title="김문수_감정 점수 (5/15): 0.048">0.048</div>
        <div class="heatmap-cell" style="background-color: rgb(92, 184, 125);" title="김문수_감정 점수 (5/16): 0.043">0.043</div>
        <div class="heatmap-cell" style="background-color: rgb(91, 188, 155);" title="김문수_감정 점수 (5/17): 0.087">0.087</div>
        <div class="heatmap-cell" style="background-color: rgb(92, 184, 126);" title="김문수_감정 점수 (5/18): 0.044">0.044</div>
        
        <!-- 김문수 감정 강도 행 -->
        <div class="heatmap-row-label">김문수_감정 강도</div>
        <div class="heatmap-cell" style="background-color: rgb(91, 192, 195);" title="김문수_감정 강도 (5/13): 0.191">0.191</div>
        <div class="heatmap-cell" style="background-color: rgb(91, 192, 179);" title="김문수_감정 강도 (5/14): 0.136">0.136</div>
        <div class="heatmap-cell" style="background-color: rgb(91, 192, 196);" title="김문수_감정 강도 (5/15): 0.195">0.195</div>
        <div class="heatmap-cell" style="background-color: rgb(91, 192, 175);" title="김문수_감정 강도 (5/16): 0.122">0.122</div>
        <div class="heatmap-cell" style="background-color: rgb(91, 192, 197);" title="김문수_감정 강도 (5/17): 0.196">0.196</div>
        <div class="heatmap-cell" style="background-color: rgb(91, 192, 182);" title="김문수_감정 강도 (5/18): 0.144">0.144</div>
      </div>
      
      <!-- 범례 -->
      <div class="legend-container">
        <div class="legend-item">
          <div class="legend-gradient leem-gradient"></div>
          <span>이재명 후보 (낮음 → 높음)</span>
        </div>
        <div class="legend-item">
          <div class="legend-gradient kim-gradient"></div>
          <span>김문수 후보 (해당 기간 비슷한 수준 유지)</span>
        </div>
      </div>
      
      <!-- 설명 -->
      <div style="text-align: center; margin: 15px auto; font-size: 0.9rem; color: var(--gray-500);">
        히트맵의 수치가 클수록, 색깔이 붉은색이 강해질수록 감정 반응 강도가 높음을 의미합니다
      </div>
    </div>
  </div>
      
      <div class="infobox">
        <strong>히트맵 해석</strong>
        <p>이재명 후보는 감정 강도 측면에서도 높은 수치를 기록(최고 0.300)했으며, 김문수 후보는 상대적으로 반응 유도력이 제한적인 것으로 나타났습니다. 히트맵을 통해 두 후보 간 콘텐츠 반응 온도를 직관적으로 확인할 수 있습니다.</p>
      </div>
    </section>

    <section class="section" id="keywords">
      <h2>4. 주요 키워드 비교</h2>
      <table>
        <thead>
          <tr>
            <th width="15%">날짜</th>
            <th width="42.5%">이재명 주요 키워드</th>
            <th width="42.5%">김문수 주요 키워드</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>5/13</td><td><b>홍준표</b>, 유세, 김문수</td><td>이재명, 후보, 대선</td></tr>
          <tr><td>5/14</td><td>민주당, 대선, 현장</td><td>현장, 유세, 부산</td></tr>
          <tr><td>5/15</td><td>유세, <b>김상욱</b>, 대통령</td><td>대통령, 국민</td></tr>
          <tr><td>5/16</td><td><b>김상욱</b>, 유세, 대선</td><td>후보, 유세</td></tr>
          <tr><td>5/17</td><td><b>김용남</b>, 광주, 대통령</td><td>대통령, 국민</td></tr>
          <tr><td>5/18</td><td>윤석열, 공약, 시민</td><td>유세, 현장</td></tr>
        </tbody>
      </table>
      
      <div class="infobox">
        <strong>키워드 패턴 분석</strong>
        <p>이재명 후보는 다양한 인물(ex. 김상욱, 김용남) 및 이슈 키워드로 콘텐츠 폭을 확장하고 있는 반면, 
            김문수 후보는 유세 중심 키워드를 반복적으로 사용하는 경향을 보였습니다. 
            특히 김 후보의 유사한 키워드의 반복과 비교해 이재명 관련 영상의 경우, 
            유권자에게 주는 자극성 및 감정 유발 요소가 다층적으로 작용하고 있는 것으로 분석됩니다.</p>
      </div>
    </section>
    
    <section class="section" id="conclusion">
      <h2>5. 전망 및 총론</h2>
      <p>
        분석 기간 동안 이재명 후보는 유튜브 상에서 감정 점수 및 강도 측면 모두에서 우세한 흐름을 보였습니다.
        이는 김상욱 의원, 김용남 전 의원 등 국민의힘 탈당 인사들의 민주당 입당 이벤트가 지지층 및 중도층에 긍정적인 기대감을 작용토록하는 한편 
        다양한 인물 언급과 메시지 전략이 감정 반응을 유도했기 때문으로 해석됩니다. 
        다만 김문수 후보는 단일 이슈 반복으로 반응 강도가 낮아 유튜브 콘텐츠가 효과적으로 공급되지 못하는 측면을 보여줍니다. 
      </p>
      <p>
        <strong>대선 초반 공식 유세 시작 이후</strong> 유튜브 상에서 형성되는 여론 프레임은 <strong>유권자 자극성과 감정 유발성</strong>을 중심으로
        확산될 가능성이 높습니다.
        향후 정치 커뮤니케이션 전략 수립 시, <strong>감정 유발 키워드 확장</strong>과 
        <strong>정치적 이벤트를 통한 콘텐츠 다양성 확보</strong>가 핵심 과제가 될 것입니다.
      </p>
      
        </section>

    <footer>
      <p>ⓒ 2025 Insight-Data LAB | 분석 파트너: Carl + AI agent | Powered by Chart.js</p>
    </footer>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <script>
    // 차트 스타일 설정
    Chart.defaults.font = {
      family: "'Noto Sans KR', sans-serif",
      size: 14
    };
    Chart.defaults.color = '#4a5568';
    
    // 1. 감정 점수 추이 차트
    const sentimentData = {
      labels: ['5/13', '5/14', '5/15', '5/16', '5/17', '5/18'],
      datasets: [
        {
          label: '이재명 감정 점수',
          data: [0.059, 0.031, 0.073, 0.131, 0.150, 0.142],
          backgroundColor: 'rgba(66, 153, 225, 0.2)',
          borderColor: 'rgba(66, 153, 225, 0.8)',
          borderWidth: 2,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7
        },
        {
          label: '김문수 감정 점수',
          data: [0.043, 0.053, 0.048, 0.043, 0.087, 0.044],
          backgroundColor: 'rgba(237, 100, 166, 0.2)',
          borderColor: 'rgba(237, 100, 166, 0.8)',
          borderWidth: 2,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7
        }
      ]
    };
    
    const sentimentConfig = {
      type: 'line',
      data: sentimentData,
      options: {
        responsive: true,
        plugins: {
          legend: {
            display: false
          },
          tooltip: {
            mode: 'index',
            intersect: false,
            backgroundColor: 'rgba(45, 55, 72, 0.9)',
            titleFont: {
              size: 14,
              weight: 'bold'
            },
            bodyFont: {
              size: 13
            },
            padding: 12,
            cornerRadius: 4,
            displayColors: true
          }
        },
        scales: {
          x: {
            title: {
              display: true,
              text: '날짜',
              font: {
                size: 14,
                weight: 'bold'
              }
            },
            grid: {
              display: false
            }
          },
          y: {
            title: {
              display: true,
              text: '감정 점수',
              font: {
                size: 14,
                weight: 'bold'
              }
            },
            min: 0,
            max: 0.2,
            ticks: {
              stepSize: 0.05
            },
            grid: {
              color: 'rgba(0, 0, 0, 0.05)'
            }
          }
        },
        interaction: {
          intersect: false,
          mode: 'nearest'
        }
      }
    };
    
    const sentimentChart = new Chart(
      document.getElementById('sentimentChart'),
      sentimentConfig
    );
    
    // 2. 커스텀 히트맵 구현
    const heatmapContainer = document.getElementById('customHeatmap');
    
    // 데이터 준비
    const heatmapLabels = [
      '이재명_감정 점수', 
      '이재명_감정 강도', 
      '김문수_감정 점수', 
      '김문수_감정 강도'
    ];
    
    const heatmapData = [
      [0.059, 0.031, 0.073, 0.131, 0.150, 0.142], // 이재명 감정 점수
      [0.218, 0.178, 0.209, 0.192, 0.296, 0.300], // 이재명 감정 강도
      [0.043, 0.053, 0.048, 0.043, 0.087, 0.044], // 김문수 감정 점수
      [0.191, 0.136, 0.195, 0.122, 0.196, 0.144]  // 김문수 감정 강도
    ];
    
    // 히트맵에 색상 맵핑 함수
    function getColorForValue(value, category) {
      let maxVal = 0.2;
      if (category.includes('강도')) {
        maxVal = 0.3;
      }
      
      // 값에 따라 색상 계산 (빨강 -> 녹색 그라데이션)
      const normalized = Math.min(value / maxVal, 1);
      
      // 색상 결정 (값이 작을수록 녹색, 클수록 빨간색)
      const r = Math.floor(255 * normalized);
      const g = Math.floor(255 * (1 - normalized));
      const b = 100;
      
      // 주체 구분
      let alpha = 0.85;
      if (category.includes('이재명')) {
        return `rgba(${r}, ${g}, ${b}, ${alpha})`;
      } else {
        return `rgba(${r}, ${g}, ${b}, ${alpha})`;
      }
    }

    // 동적으로 히트맵 구성
    for (let i = 0; i < heatmapLabels.length; i++) {
      const row = document.createElement('div');
      row.className = 'heatmap-row';
      
      // 각 행의 라벨 추가
      const rowLabel = document.createElement('div');
      rowLabel.className = 'heatmap-label-left';
      rowLabel.textContent = heatmapLabels[i];
      document.querySelector('.heatmap-labels').appendChild(rowLabel);
      
      // 각 셀 생성
      for (let j = 0; j < 6; j++) {
        const cell = document.createElement('div');
        cell.className = 'heatmap-cell';
        
        const value = heatmapData[i][j];
        cell.textContent = value.toFixed(3);
        cell.style.backgroundColor = getColorForValue(value, heatmapLabels[i]);
        
        // 툴팁 속성 추가
        cell.title = `${heatmapLabels[i]} (5/${j+13}): ${value.toFixed(3)}`;
        
        heatmapContainer.appendChild(cell);
      }
    }
    
    // 3. 요약 비교 차트
    const summaryData = {
      labels: ['감정 점수 평균', '감정 강도 평균'],
      datasets: [
        {
          label: '이재명',
          data: [
            (0.059 + 0.031 + 0.073 + 0.131 + 0.150 + 0.142) / 6,
            (0.218 + 0.178 + 0.209 + 0.192 + 0.296 + 0.300) / 6
          ],
          backgroundColor: 'rgba(66, 153, 225, 0.7)',
          borderColor: 'rgba(66, 153, 225, 1)',
          borderWidth: 1
        },
        {
          label: '김문수',
          data: [
            (0.043 + 0.053 + 0.048 + 0.043 + 0.087 + 0.044) / 6,
            (0.191 + 0.136 + 0.195 + 0.122 + 0.196 + 0.144) / 6
          ],
          backgroundColor: 'rgba(237, 100, 166, 0.7)',
          borderColor: 'rgba(237, 100, 166, 1)',
          borderWidth: 1
        }
      ]
    };
    
    const summaryConfig = {
      type: 'bar',
      data: summaryData,
      options: {
        responsive: true,
        indexAxis: 'y',
        plugins: {
          legend: {
            position: 'top',
            labels: {
              font: {
                size: 13
              }
            }
          },
          tooltip: {
            backgroundColor: 'rgba(45, 55, 72, 0.9)',
            titleFont: {
              size: 14,
              weight: 'bold'
            },
            bodyFont: {
              size: 13
            },
            padding: 12,
            cornerRadius: 4,
            callbacks: {
              label: function(context) {
                return `${context.dataset.label}: ${context.raw.toFixed(3)}`;
              }
            }
          }
        },
        scales: {
          x: {
            min: 0,
            max: 0.3,
            title: {
              display: true,
              text: '평균 점수',
              font: {
                size: 14,
                weight: 'bold'
              }
            },
            grid: {
              color: 'rgba(0, 0, 0, 0.05)'
            }
          },
          y: {
            grid: {
              display: false
            }
          }
        }
      }
    };
    
    const summaryChart = new Chart(
      document.getElementById('summaryChart'),
      summaryConfig
    );
  </script>
</body>
</html>
